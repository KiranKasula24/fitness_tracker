food_calories = {
    # Breakfast 
    "roti": {"calories": 70, "unit": "medium piece"},
    "plain paratha": {"calories": 150, "unit": "piece","aliases": ["parotha"]},
    "aloo paratha": {"calories": 210, "unit": "piece","aliases": ["aloo parotha"]},
    "plain dosa": {"calories": 133, "unit": "piece"},
    "masala dosa": {"calories": 230, "unit": "piece"},
    "idli": {"calories": 58, "unit": "piece", "aliases": ["idly"]},
    "upma": {"calories": 250, "unit": "bowl"},
    "poha": {"calories": 180, "unit": "bowl"},
    "uttapam": {"calories": 180, "unit": "medium piece"},
    "puri": {"calories": 85, "unit": "piece"},
    "pongal": {"calories": 300, "unit": "bowl"},
    "vermicelli upma": {"calories": 230, "unit": "bowl"},
    "vada": {"calories": 97, "unit": "piece","aliases": ["wada"]},
    "mysore bonda": {"calories": 120, "unit": "piece","aliases": ["mysore bajji"]},

    # Snacks
    "punugulu": {"calories": 180, "unit": "5 pieces","aliases": ["pungulu"]},
    "samosa": {"calories": 132, "unit": "medium piece"},
    "pakora": {"calories": 75, "unit": "piece","aliases": ["pakoda"]},
    "cutlet": {"calories": 120, "unit": "veg piece"},
    "panipuri": {"calories": 210, "unit": "6 pieces","aliases": ["golgappa","gapchup"]},
    "dahipuri": {"calories": 240, "unit": "6 pieces"},
    "pav bhaji": {"calories": 400, "unit": "plate"},
    "vada pav":{"calories":250,"unit": "piece"},

    # Non-veg
    "chicken curry": {"calories": 300, "unit": "cup"},
    "butter chicken": {"calories": 430, "unit": "cup"},
    "chicken tikka masala": {"calories": 400, "unit": "cup"},
    "kadai chicken": {"calories": 350, "unit": "cup"},
    "chicken korma": {"calories": 420, "unit": "cup"},
    "egg curry": {"calories": 250, "unit": "cup"},
    "boiled egg": {"calories": 78, "unit": "piece"},
    "egg bhurji": {"calories": 280, "unit": "cup"},
    "fish curry": {"calories": 280, "unit": "cup"},
    "chettinad fish curry": {"calories": 300, "unit": "cup"},
    "prawn curry": {"calories": 300, "unit": "cup"},
    "prawn masala": {"calories": 350, "unit": "cup"},
    "fish fry": {"calories": 200, "unit": "piece"},
    "prawn fry": {"calories": 360, "unit": "cup"},
    "mutton curry": {"calories": 400, "unit": "cup"},
    "mutton rogan josh": {"calories": 450, "unit": "cup"},
    "keema curry": {"calories": 390, "unit": "cup"},
    "mutton korma": {"calories": 480, "unit": "cup"},
    "mutton biryani": {"calories": 450, "unit": "cup"},
    "chicken biryani": {"calories": 390, "unit": "cup","aliases": ["biryani"]},
    "egg biryani": {"calories": 350, "unit": "cup"},
    "fish biryani": {"calories": 400, "unit": "cup"},
    "prawn biryani": {"calories": 420, "unit": "cup"},

    # Rice & Grains
    "white rice": {"calories": 206, "unit": "cup cooked"},
    "brown rice": {"calories": 215, "unit": "cup cooked"},
    "vegetable biryani": {"calories": 290, "unit": "bowl"},
    "dal": {"calories": 180, "unit": "bowl"},
    "rajma": {"calories": 240, "unit": "bowl"},

    # Noodles and fried rice
    "maggi": {"calories": 310, "unit": "pack prepared"},
    "yippee": {"calories": 330, "unit": "pack prepared"},
    "hakka noodles": {"calories": 400, "unit": "bowl","aliases": ["noodles"]},
    "schezwan noodles": {"calories": 450, "unit": "bowl"},
    "veg fried rice": {"calories": 350, "unit": "bowl"},
    "egg fried rice": {"calories": 400, "unit": "bowl"},
    "chicken fried rice": {"calories": 450, "unit": "bowl"},
    "schezwan fried rice": {"calories": 470, "unit": "bowl"},
    "manchurian rice": {"calories": 500, "unit": "bowl"},

    # Starters
    "veg manchurian": {"calories": 300, "unit": "6 pieces","aliases": ["manchuria"]},
    "chicken manchurian": {"calories": 350, "unit": "6 pieces"},
    "gobi manchurian": {"calories": 320, "unit": "bowl"},
    "paneer manchurian": {"calories": 350, "unit": "bowl"},
    "chilli paneer": {"calories": 400, "unit": "bowl"},
    "chilli chicken": {"calories": 450, "unit": "bowl"},
    "crispy baby corn": {"calories": 300, "unit": "bowl"},

    # Chips & packaged snacks
    "lays chips": {"calories": 136, "unit": "10 rs pack"},
    "bingo chips": {"calories": 135, "unit": "10 rs pack"},
    "kurkure": {"calories": 130, "unit": "10 rs pack"},
    "tooyumm chips": {"calories": 115, "unit": "10 rs pack"},
    "puff": {"calories": 150, "unit": "piece"},
    " aloo bhujia ": {"calories": 240, "unit": "packet"},
    " bhujia sev ": {"calories": 210, "unit": "packet"},
    " moong dal ": {"calories": 184, "unit": "packet"},
    " khatta meetha ": {"calories": 228, "unit": "packet"},
    " nimbu masala ": {"calories": 224, "unit": "packet"},
    " tasty nuts ": {"calories": 240, "unit": "packet"},
    " punjabi tadka ": {"calories": 220, "unit": "packet"},
    " navrattan mix ": {"calories": 230, "unit": "packet"},
    " kashmiri mixture ": {"calories": 240, "unit": "packet"},
    " chana dal ": {"calories": 184, "unit": "packet"},

    # drinks
    "coffee": {"calories": 90, "unit": "cup"},
    "black coffee": {"calories": 5, "unit": "cup"},
    "tea": {"calories": 90, "unit": "cup"},
    "unsweetened lemon juice": {"calories": 12, "unit": "glass"},
    "orange juice": {"calories": 110, "unit": "glass"},
    "mango juice": {"calories": 150, "unit": "glass"},
    "apple juice": {"calories": 114, "unit": "glass"},
    "grape juice": {"calories": 152, "unit": "glass"},
    "pomegranate juice": {"calories": 136, "unit": "glass"},
    "sugarcane juice": {"calories": 180, "unit": "glass"},
    "mixed fruit juice": {"calories": 140, "unit": "glass"},
    "lemon juice": {"calories": 120, "unit": "glass"},

    # Fruits
    "banana": {"calories": 105, "unit": "medium piece"},
    "apple": {"calories": 95, "unit": "medium piece"},
    "mango": {"calories": 150, "unit": "medium piece"},
    "orange": {"calories": 62, "unit": "medium piece"},
    "guava": {"calories": 68, "unit": "medium piece"},
    "pear": {"calories": 102, "unit": "medium piece"},
    "kiwi": {"calories": 42, "unit": "medium piece"},
    "plum": {"calories": 30, "unit": "medium piece"},
    "chikoo": {"calories": 140, "unit": "medium piece"},
    "grapes": {"calories": 70, "unit": "100g"},
    "watermelon": {"calories": 30, "unit": "100g"},
    "papaya": {"calories": 43, "unit": "100g"},
    "pineapple": {"calories": 50, "unit": "100g"},
    "pomegranate": {"calories": 83, "unit": "100g"},
    "jackfruit": {"calories": 95, "unit": "100g"},
    "muskmelon": {"calories": 34, "unit": "100g"},

    # Vegetables
    
    "carrot": {"calories": 25, "unit": "1 medium sized"},
    "beetroot": {"calories": 35, "unit": "1 medium sized"},
    "onion": {"calories": 44, "unit": "1 medium sized"},
    "cucumber": {"calories": 24, "unit": "1 medium sized"},
    
    
    # Vegetable curries (1 cup each)
    "potato curry": {"calories": 180, "unit": "cup","aliases": ["potato"]},
    "sweet potato curry": {"calories": 190, "unit": "cup","aliases": ["sweet potato"]},
    "carrot curry": {"calories": 100, "unit": "cup"},
    "beetroot curry": {"calories": 110, "unit": "cup"},
    "cabbage curry": {"calories": 80, "unit": "cup","aliases": ["cabbage"]},
    "cauliflower curry": {"calories": 90, "unit": "cup","aliases": ["cauliflower"]},
    "spinach curry": {"calories": 95, "unit": "cup","aliases": ["spinach"]},
    "brinjal (eggplant) curry": {"calories": 100, "unit": "cup","aliases": ["brinjal"]},
    "okra (lady finger) curry": {"calories": 100, "unit": "cup","aliases": ["ladies finger","okra"]},
    "tomato curry": {"calories": 90, "unit": "cup","aliases": ["tomato"]},
    "onion curry": {"calories": 120, "unit": "cup"},
    "peas curry": {"calories": 140, "unit": "cup","aliases": ["peas"]},
    "cucumber curry": {"calories": 60, "unit": "cup"},
    "bottle gourd (lauki) curry": {"calories": 70, "unit": "cup","aliases": ["bottle guard"]},
    "bitter gourd (karela) curry": {"calories": 90, "unit": "cup","aliases": ["bitter guard"]},
    "green beans curry": {"calories": 100, "unit": "cup","aliases": ["green beans"]},
    "mixed veg curry": {"calories": 150, "unit": "cup","aliases": ["mixed vegetables"]},
    "curd (2 tbsp)": {"calories": 30, "unit": "2 tbsp"},
    
    "gulab jamun": {"calories": 150, "unit": "piece"},
    "rasgulla": {"calories": 125, "unit": "piece"},
    "jalebi": {"calories": 150, "unit": "2 pieces"},
    "kheer": {"calories": 215, "unit": "bowl"},
    "halwa": {"calories": 250, "unit": "bowl"},
    "carrot halwa": {"calories": 210, "unit": "bowl"},
    "laddu ": {"calories": 180, "unit": "piece"},
    "mysore pak": {"calories": 200, "unit": "piece"},
    "kaju barfi": {"calories": 125, "unit": "piece"},
    "sandesh": {"calories": 120, "unit": "piece"},
    "milk cake": {"calories": 150, "unit": "piece"},
    "ice cream ": {"calories": 137, "unit": "scoop"},
     "cone ice cream (vanilla)": {"calories": 180, "unit": "cone"},
    "cone ice cream (chocolate)": {"calories": 210, "unit": "cone"},
    "cone ice cream (strawberry)": {"calories": 190, "unit": "cone"},
    
    #mc donalds
    "chocolate brownie": {"calories": 250, "unit": "piece"},
    
    "mc veggie burger": {"calories": 392, "unit": "burger","aliases": ["burger"]},
    "mc aloo tikki burger": {"calories": 329, "unit": "burger"},
    "mc spicy paneer burger": {"calories": 528, "unit": "burger"},
    "chicken maharaja mac": {"calories": 689, "unit": "burger"},
    "butter chicken grilled burger": {"calories": 357, "unit": "burger"},
    "chicken mcgrill burger": {"calories": 388, "unit": "burger"},
    " paneer wrap": {"calories": 674, "unit": "wrap"},
    "chicken wrap": {"calories": 567, "unit": "wrap"},
    "chicken nuggets ": {"calories": 169, "unit": "4 pc"},
    "chicken nuggets ": {"calories": 254, "unit": "6 pcs"},
    "regular fries": {"calories": 320, "unit": "serving","aliases": ["fries"]},
    "medium fries": {"calories": 378, "unit": "serving"},
    "large fries": {"calories": 449, "unit": "serving"},
    "soft serve cone": {"calories": 150, "unit": "cone"},
    "mcflurry oreo (regular)": {"calories": 340, "unit": "cup"},
    #kfc
    
    "chicken zinger burger": {"calories": 563, "unit": "burger","aliases": ["chicken burger"]},
    "tandoori zinger burger": {"calories": 1000, "unit": "burger","aliases": ["tandoori chicken burger"]},
    "chicken popcorn ": {"calories": 272, "unit": "serving"},
    "hot crispy chicken ": {"calories": 264, "unit": "piece"},
    "hot wings (2 pcs)": {"calories": 267, "unit": "serving","aliases": ["chicken wings"]},
    "boneless strips (3 pcs)": {"calories": 358, "unit": "serving"},
    "classic chicken biryani": {"calories": 586, "unit": "bowl"},
    
    #domino's
    "margherita pizza ": {"calories": 688, "unit": "pizza"},
    "veg pizza": {"calories": 709, "unit": "pizza","aliases": ["pizza"]},
    "cheese n tomato pizza": {"calories": 695, "unit": "pizza"},
    "farmhouse pizza": {"calories": 727, "unit": "pizza"},
    "mexican green wave pizza ": {"calories": 707, "unit": "pizza"},
    "double cheese margherita pizza ": {"calories": 735, "unit": "pizza","aliases": ["double cheese pizza"]},
    "fresh veggie pizza": {"calories": 701, "unit": "pizza"},
    "zingy parcel": {"calories": 667, "unit": "piece"},
    "margherita pizza ": {"calories": 361, "unit": "pizza"},
    "chicken tikka pizza": {"calories": 588, "unit": "pizza","aliases": ["chicken pizza"]},
    "chicken sausage pizza ": {"calories": 443, "unit": "pizza"},
    "tandoori paneer pizza ": {"calories": 532, "unit": "pizza"},
    "veggie supreme pizza": {"calories": 375, "unit": "pizza"},
    "chicken supreme pizza": {"calories": 408, "unit": "pizza"},
    "classic corn pizza": {"calories": 395, "unit": "pizza"},
    "cheesy dip": {"calories": 49, "unit": "serving"},

    # Salads
    "cucumber salad": {"calories": 25, "unit": "bowl"},
    "mixed vegetable salad": {"calories": 60, "unit": "bowl","aliases": ["salad"]},
    "sprouts salad": {"calories": 80, "unit": "bowl"},
    "fruit salad": {"calories": 120, "unit": "bowl"},
    "chickpea salad": {"calories": 150, "unit": "bowl"},
    "moong dal salad": {"calories": 100, "unit": "bowl"},
    "lettuce salad": {"calories": 15, "unit": "bowl"},
    "quinoa salad": {"calories": 220, "unit": "bowl"},

    # Vegetable Juices
    "carrot juice": {"calories": 80, "unit": "glass"},
    "beetroot juice": {"calories": 90, "unit": "glass"},
    "tomato juice": {"calories": 40, "unit": "glass"},
    "cucumber juice": {"calories": 16, "unit": "glass"},
    "spinach juice": {"calories": 30, "unit": "glass"},
    "mixed vegetable juice": {"calories": 60, "unit": "glass"},
    "bottle gourd juice": {"calories": 25, "unit": "glass"},
    "wheatgrass juice": {"calories": 20, "unit": "glass"}

    
}

def find_closest_food(user_input):
    """Finds the closest matching food item to the user's input"""
    user_input = user_input.lower().strip()
    
    # First check exact matches and aliases
    for food, data in food_calories.items():
        if user_input == food.lower():
            return food
        if "aliases" in data and user_input in [a.lower() for a in data["aliases"]]:
            return food
    
    # Then check partial matches
    matches = [food for food in food_calories if user_input in food.lower()]
    if matches:
        return matches[0]  # Return first match
    
    # Then check if any word matches
    user_words = user_input.split()
    for food in food_calories:
        if any(word in food.lower() for word in user_words):
            return food
    
    return None

def calculate_calories():
    print("Enter the food items you've consumed in last 24 hrs")
    print("If the shown item is wrong, enter '0' when asked for quantity.")
    print("Enter 'done' when finished.\n")
    
    total_calories = 0
    items_consumed = []
    
    while True:
        user_input = input("Enter food item (or 'done'): ").strip()
        if user_input.lower() == 'done':
            break

        food_item = find_closest_food(user_input)
        if not food_item:
            print(f"'{user_input}' not found.")
            continue

        while True:
            try:
                quantity_input = input(f"How many {food_calories[food_item]['unit']} of '{food_item}'? (Enter 0 if wrong, or number like 1, 0.5): ").strip()
                if quantity_input == '0':
                    new_input = input("Please enter the correct food item name: ").strip()
                    food_item = find_closest_food(new_input)
                    if not food_item:
                        print("Item not found. Let's skip this one.")
                        break
                    continue

                quantity = float(quantity_input)
                if quantity <= 0:
                    print("Please enter a positive number.")
                    continue

                # ✅ CALCULATE CALORIES
                calories = food_calories[food_item]["calories"] * quantity
                total_calories += calories
                items_consumed.append((food_item, quantity, food_calories[food_item]["unit"], calories))
                print(f"✓ Added {quantity} {food_calories[food_item]['unit']} of {food_item} = {calories:.1f} calories\n")
                break

            except ValueError:
                print("Please enter a valid number or 0 if the item is wrong.")
    
    # ✅ SUMMARY
    if items_consumed:
        print("\n--- Your Consumption Summary ---")
        for item, qty, unit, cals in items_consumed:
            print(f"- {qty} {unit} of {item}: {cals:.1f} calories")
        print(f"\n TOTAL CALORIES: {total_calories:.1f}")
    else:
        print("\nNo food items entered.")
    
    return total_calories

if __name__ == "__main__":
    calculate_calories()

